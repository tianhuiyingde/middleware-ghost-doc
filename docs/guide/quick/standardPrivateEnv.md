# 公共环境管理规范

【<font color=red>强制</font>】提供基础服务的业务线（如账号、题库、管理中心等），应提供和维护一套本业务的公共子环境（版本为最新 Master），以满足开发联调和测试的需求。

【<font color=red>强制</font>】公共子环境的维护者为该环境的可用性和升级负责。出现问题时，应及时响应和解决。

【<font color=red>强制</font>】项目新版本全量上线发布后，应及时合并代码到 Master，并在上线后的两个工作日内更新公共环境中的该项目。

::: tip Tips:
项目在发布系统上线完成后，如果是简单上线(只有代码和数据库结构更新)，蜂巢系统自动更新公共环境；

如果是复杂上线(有 nginx、Apollo 等手动配置修改)，蜂巢系统邮件提醒项目负责人手动更新公共环境；

蜂巢系统每天定时检测公共环境项目的 master 分支是否是最新，并以邮件形式提醒项目的主程序员以及当前公共环境的负责人及时更新。
:::

【<font color=red>强制</font>】质量部应定期（不低于每月 1 次）安排对公共环境进行回归测试，以保证上述环境的可用性。

【<font color=red>强制</font>】蜂巢系统每天定时备份全量数据，并且保留最近 7 的备份数据。

【<font color=blue>建议</font>】新项目上线后应及时加入公共子环境。

【<font color=blue>建议</font>】蜂巢系统提供所有可用的公共环境（含子环境）列表，以供用户选择使用。
